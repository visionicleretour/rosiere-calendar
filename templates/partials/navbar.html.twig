<script>
    addEventListener('DOMContentLoaded', (event) => {
        const hamburger = document.querySelector('.hamburger');
        hamburger.addEventListener('click', (event) => {
            const navbarContent = document.querySelector('.navbar-content');
            const navbar = document.querySelector('.navbar');
            navbarContent.classList.toggle('navbar-content--open');
            navbar.classList.toggle('navbar-opened');
        });
    });
</script>

<link rel="stylesheet" href="/assets/app/navbar.css">



{% if app.user %}
<nav class="navbar">
    <div class="navbar-logo">
        <a href="/" style="color: white; text-decoration: none;"><h1 style="color: white; text-decoration: none;">Rosière</h1></a>
        {# TODO: Ask #}
        {# TODO: Ask #}
    </div>
    <div class="navbar-content">
        <div class="navbar-list">
            <div class="navbar-item">
                <a href="{{path('app_home')}}">Accueil</a>
            </div>
            <div class="navbar-item">
                <a href="{{path('app_blog')}}">Blog</a>
            </div>
            {% if is_granted('ROLE_ADMIN') %}
            <div class="navbar-item">
                <a href="{{path('app_blog_admin')}}">Admin blog</a>
            </div>
            {% endif %}
            <div class="navbar-item ">
                <a href="{{path('app_logout')}}">Déconnexion</a>
            </div>
        </div>
        <div>
        
            <div class="navbar-item ">
                <a href="{{path('dashboard')}}" class="navbar-btn">Dashboard</a>
            </div>
        </div>
    </div>
    <div class="hamburger">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Hamburger_icon.svg/1024px-Hamburger_icon.svg.png"
            alt="menu" class="hamburger-icon" width="50px" />
    </div>
</nav>
{% else %}
<nav class="navbar">
    <div class="navbar-logo">
        <a href="/" style="color: white; text-decoration: none;"><h1 style="color: white; text-decoration: none;">Rosière</h1></a>
        {# TODO: Ask #}
        {# TODO: Ask #}
    </div>
    <div class="navbar-content">
        <div class="navbar-list">
            <div class="navbar-item">
                <a href="{{path('app_home')}}">Accueil</a>
            </div>
            <div class="navbar-item">
                <a href="{{path('app_blog')}}">Blog</a>
            </div>
            <div class="navbar-item">
                <a href="{{path('app_login')}}">Connexion</a>
            </div>
        </div>
        <div>
            <div class="navbar-item ">
                <a href="{{path('app_register')}}" class="navbar-btn">Inscription</a>
            </div>
        </div>
    </div>
    <div class="hamburger">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Hamburger_icon.svg/1024px-Hamburger_icon.svg.png"
            alt="menu" class="hamburger-icon" width="50px" />
    </div>
</nav>
{% endif %}

<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css'>
{% for message in app.flashes('success') %}
	<div class="toast align-items-center fade show success" role="alert" aria-live="assertive" aria-atomic="true">
		<div class="icon me-4">
			<i class="fi fi-rr-badge-check d-flex"></i>
		</div>
		<div>
			<h5 class="fw-bold mb-1">Succès</h5>
			<p class="text-muted mb-0">
				{{message}}
			</p>
		</div>
		<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close" onclick="this.parentNode.style.display = 'none'">X</button>
	</div>
{% endfor %}

{% for message in app.flashes('error') %}
	<div class="toast align-items-center fade show erro" role="alert" aria-live="assertive" aria-atomic="true">
		div class="icon me-4">
		<i class="fi fi-rr-badge-check d-flex"></i>
	</div>
	<div>
		<h5 class="fw-bold mb-1">Succès</h5>
		<p class="text-muted mb-0">
			{{message}}
		</p>
	</div>
	<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close" onclick="this.parentNode.style.display = 'none'">X</button>
</div>{% endfor %}

